<p-toast></p-toast>
<div class="login-container flex min-h-screen surface-ground">
  <div class="login-form-section flex align-items-start justify-content-center col-12 lg:col-5 pt-8 px-5 lg:px-8 bg-white shadow-7 relative z-2">
    <div class="w-full mt-1" style="max-width: 400px;">
      <div class="flex justify-content-center mt-1 mb-1">
        <img [src]="getLogoPath()"
             alt="Simplify Store Prime"
             class="h-auto cursor-pointer"
             style="max-width: 300px;"
             (click)="toggleTheme()"
             pTooltip="Click to toggle theme"
             tooltipPosition="bottom">
      </div>

      <div class="text-center mb-5">
        <h2 class="text-900 font-bold text-3xl mb-2">Forgot Password?</h2>
        <p class="text-600 font-medium">Enter your email and we'll send you a reset link</p>
      </div>

      <div class="flex flex-column gap-4">
        <div class="flex flex-column gap-2">
          <label for="email" class="font-bold text-900">Email Address</label>
          <input
            pInputText
            id="email"
            type="email"
            [(ngModel)]="email"
            placeholder="Enter your email"
            class="w-full p-inputtext-lg"
            [class.ng-invalid]="emailTouched && !isValidEmail()"
            [class.ng-dirty]="emailTouched"
            (blur)="emailTouched = true" />
          <small *ngIf="emailTouched && !email" class="text-red-500">
            <i class="pi pi-exclamation-circle mr-1"></i>Email is required
          </small>
          <small *ngIf="emailTouched && email && !isValidEmail()" class="text-red-500">
            <i class="pi pi-exclamation-circle mr-1"></i>Please enter a valid email
          </small>
        </div>

        <p-button
          label="Send Reset Link"
          icon="pi pi-send"
          styleClass="w-full p-button-lg shadow-2 custom-blue-button"
          [disabled]="!isValidEmail() || isLoading"
          [loading]="isLoading"
          (onClick)="onSubmit()">
        </p-button>

        <div class="flex justify-content-center">
          <a routerLink="/login" class="font-bold no-underline text-primary cursor-pointer hover:underline transition-all custom-blue-link">
            <i class="pi pi-arrow-left mr-2"></i>Back to Login
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="login-image-section hidden lg:block col-7 p-0 overflow-hidden relative z-1">
    <img src="login-background.jpg" alt="Background" class="h-full w-full absolute top-0 left-0" style="object-fit: cover;">
    <div class="absolute top-0 left-0 w-full h-full bg-black-alpha-10"></div>
  </div>
</div>
