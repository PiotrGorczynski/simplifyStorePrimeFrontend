<div class="sidebar-container flex flex-column h-full">
  <p-confirmDialog></p-confirmDialog>
  <div class="header-section p-3">
    <div class="user-profile text-center p-3 surface-card border-round shadow-1 mb-3">
      <div class="avatar-wrapper"
           (click)="toggleDarkMode()"
           pTooltip="Click to toggle theme"
           tooltipPosition="right"
           [class.rotating]="isAnimating">
        <p-avatar
          [icon]="isDarkMode ? 'pi pi-moon' : 'pi pi-sun'"
          size="xlarge"
          shape="circle"
          [style]="{'background-color': isDarkMode ? '#1e1e2e' : '#2196F3', 'color': '#ffffff', 'cursor': 'pointer'}">
        </p-avatar>
        <div class="theme-indicator" [class.dark]="isDarkMode">
          <i class="pi" [ngClass]="isDarkMode ? 'pi-moon' : 'pi-sun'"></i>
        </div>
      </div>
      <div class="mt-2">
        <span class="font-bold text-xl block text-900">Welcome, {{username}}!</span>
        <span class="text-xs text-500 font-medium uppercase">Administrator</span>
        <div class="text-xs text-500 mt-1" *ngIf="loginTime">
          <i class="pi pi-sign-in mr-1"></i>
          Logged in at {{loginTime}}
        </div>
      </div>
    </div>
    <div class="clock-section p-2 font-bold surface-overlay border-round shadow-1 mb-2">
      <i class="pi pi-clock mr-2"></i> {{ currentTime | date: 'HH:mm:ss' }}
    </div>

    <div class="theme-toggle p-2 surface-overlay border-round shadow-1 mb-2">
      <div class="flex align-items-center justify-content-between">
        <span class="font-semibold">
          <i class="pi" [ngClass]="isDarkMode ? 'pi-sun' : 'pi-moon'" class="mr-2"></i>
          {{ isDarkMode ? 'Light' : 'Dark' }}
        </span>
        <p-toggleSwitch
          [(ngModel)]="isDarkMode"
          (onChange)="toggleDarkMode()">
        </p-toggleSwitch>
      </div>
    </div>
    <div class="date-mini p-2 font-bold surface-overlay border-round shadow-1 mb-3">
      <i class="pi pi-calendar mr-2"></i> {{ currentTime | date: 'dd-MM-yyyy' }}
    </div>
  </div>
  <div class="menu-section flex-grow-1 px-3">
    <p-menu [model]="items" class="w-full border-none bg-transparent"></p-menu>
  </div>
</div>
